<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>.env and Environment Variables | 肖总教java</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.ebcf3451.css" as="style"><link rel="preload" href="/assets/js/app.f5cc174e.js" as="script"><link rel="preload" href="/assets/js/10.bf39ec18.js" as="script"><link rel="preload" href="/assets/js/2.0f4038f2.js" as="script"><link rel="prefetch" href="/assets/js/11.210e0db4.js"><link rel="prefetch" href="/assets/js/12.ffb3dc49.js"><link rel="prefetch" href="/assets/js/13.7299ff02.js"><link rel="prefetch" href="/assets/js/14.1e018a41.js"><link rel="prefetch" href="/assets/js/15.c7d46dc9.js"><link rel="prefetch" href="/assets/js/16.aa71f129.js"><link rel="prefetch" href="/assets/js/17.ee9ad401.js"><link rel="prefetch" href="/assets/js/18.bc02023f.js"><link rel="prefetch" href="/assets/js/19.ac6195b2.js"><link rel="prefetch" href="/assets/js/20.000b2e2e.js"><link rel="prefetch" href="/assets/js/21.cda796ee.js"><link rel="prefetch" href="/assets/js/22.b96309d1.js"><link rel="prefetch" href="/assets/js/23.24f97e00.js"><link rel="prefetch" href="/assets/js/24.897297e4.js"><link rel="prefetch" href="/assets/js/3.52b528e1.js"><link rel="prefetch" href="/assets/js/4.c1e06c01.js"><link rel="prefetch" href="/assets/js/5.c4dd6f34.js"><link rel="prefetch" href="/assets/js/6.1701df0e.js"><link rel="prefetch" href="/assets/js/7.e872f69f.js"><link rel="prefetch" href="/assets/js/8.b5f42330.js"><link rel="prefetch" href="/assets/js/9.444abcb4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ebcf3451.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">肖总教java</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/" class="nav-link router-link-active">java</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/" class="nav-link router-link-active">java</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>java</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/java/" class="sidebar-link">Introduction</a></li><li><a href="/java/java_intro.html" class="sidebar-link">java入门</a></li><li><a href="/java/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/java/create-umi-app.html" class="sidebar-link">Create a Project With create-umi</a></li><li><a href="/java/examples.html" class="sidebar-link">Examples</a></li><li><a href="/java/app-structure.html" class="sidebar-link">Directory and Convention</a></li><li><a href="/java/router.html" class="sidebar-link">Router</a></li><li><a href="/java/navigate-between-pages.html" class="sidebar-link">Navigate between pages</a></li><li><a href="/java/config.html" class="sidebar-link">Configuration</a></li><li><a href="/java/html-template.html" class="sidebar-link">HTML Template</a></li><li><a href="/java/test.html" class="sidebar-link">Introduction</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Advanced</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/java/mock-data.html" class="sidebar-link">Mock Data</a></li><li><a href="/java/with-dva.html" class="sidebar-link">Use umi with dva</a></li><li><a href="/java/load-on-demand.html" class="sidebar-link">Load on demand</a></li><li><a href="/java/runtime-config.html" class="sidebar-link">Runtime Config</a></li><li><a href="/java/block.html" class="sidebar-link">Block</a></li><li><a href="/java/deploy.html" class="sidebar-link">Deploy</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Reference</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/java/faq.html" class="sidebar-link">FAQ</a></li><li><a href="/java/migration.html" class="sidebar-link">Migrate from umi 1.x</a></li><li><a href="/java/env-variables.html" class="active sidebar-link">.env and Environment Variables</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/env-variables.html#how-to-configure" class="sidebar-link">How to Configure</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#environment-variables" class="sidebar-link">Environment Variables</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/env-variables.html#umi-env" class="sidebar-link">UMI_ENV</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#port" class="sidebar-link">PORT</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#host" class="sidebar-link">HOST</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#eslint" class="sidebar-link">ESLINT</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#app-root" class="sidebar-link">APP_ROOT</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#analyze" class="sidebar-link">ANALYZE</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#analyze-port" class="sidebar-link">ANALYZE_PORT</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#babel-polyfill" class="sidebar-link">BABEL_POLYFILL</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#compress" class="sidebar-link">COMPRESS</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#css-compress" class="sidebar-link">CSS_COMPRESS</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#browser" class="sidebar-link">BROWSER</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#clear-console" class="sidebar-link">CLEAR_CONSOLE</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#hmr" class="sidebar-link">HMR</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#babelrc" class="sidebar-link">BABELRC</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#babel-cache" class="sidebar-link">BABEL_CACHE</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#mock" class="sidebar-link">MOCK</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#html" class="sidebar-link">HTML</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#watch-files" class="sidebar-link">WATCH_FILES</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#rm-tmpdir" class="sidebar-link">RM_TMPDIR</a></li><li class="sidebar-sub-header"><a href="/java/env-variables.html#fork-ts-checker" class="sidebar-link">FORKTSCHECKER</a></li></ul></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="env-and-environment-variables"><a href="#env-and-environment-variables" aria-hidden="true" class="header-anchor">#</a> .env and Environment Variables</h1> <h2 id="how-to-configure"><a href="#how-to-configure" aria-hidden="true" class="header-anchor">#</a> How to Configure</h2> <p>For example</p> <div class="language- extra-class"><pre class="language-text"><code># OS X, Linux
$ PORT=3000 umi dev

# Windows (cmd.exe)
$ set PORT=3000&amp;&amp;umi dev

# Or use cross-env for all platforms
$ yarn add cross-env --dev
$ cross-env PORT=3000 umi dev

# .env
$ echo PORT=3000 &gt; .env
</code></pre></div><h2 id="environment-variables"><a href="#environment-variables" aria-hidden="true" class="header-anchor">#</a> Environment Variables</h2> <h3 id="umi-env"><a href="#umi-env" aria-hidden="true" class="header-anchor">#</a> UMI_ENV</h3> <p>Specifies a profile that overrides the default configuration. For example, <code>UMI_ENV=prod umi build</code>, then <code>.umirc.js</code> will be overwritten with <code>.umirc.prod.js</code>. Or <code>config/config.prod.js</code> overrides <code>config/config.js</code>. Note that overriding instead of replacing, configurators not in <code>.umirc.prod.js</code> will use the configuration in <code>.umirc.js</code>.</p> <p>In addition, the configuration in <code>.umirc.local.js</code> or <code>config/config.local.js</code> in development mode is always the highest priority.</p> <h3 id="port"><a href="#port" aria-hidden="true" class="header-anchor">#</a> PORT</h3> <p>Specify the port number. The default is <code>8000</code>. such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ PORT<span class="token operator">=</span>8001 umi dev
</code></pre></div><h3 id="host"><a href="#host" aria-hidden="true" class="header-anchor">#</a> HOST</h3> <p>The default is <code>0.0.0.0</code>.</p> <h3 id="eslint"><a href="#eslint" aria-hidden="true" class="header-anchor">#</a> ESLINT <span class="badge tip top" data-v-099ab69c>2.4.0+</span></h3> <p>When ESLINT is set, the basic eslint check is done by <a href="https://github.com/umijs/umi/tree/master/packages/eslint-config-umi" target="_blank" rel="noopener noreferrer">eslint-config-umi<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in the dev and build commands. Avoid some simple mistakes.</p> <h3 id="app-root"><a href="#app-root" aria-hidden="true" class="header-anchor">#</a> APP_ROOT</h3> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>APP_ROOT cannot be included in .env.</p></div> <p>Specify the project root directory. such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ APP_ROOT<span class="token operator">=</span>src/renderer umi dev
</code></pre></div><h3 id="analyze"><a href="#analyze" aria-hidden="true" class="header-anchor">#</a> ANALYZE</h3> <p>It is off by default. Analyze the bundle composition, valid when building. such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ANALYZE<span class="token operator">=</span>1 umi build
</code></pre></div><h3 id="analyze-port"><a href="#analyze-port" aria-hidden="true" class="header-anchor">#</a> ANALYZE_PORT</h3> <p>ANALYZE server port, default 8888.</p> <h3 id="babel-polyfill"><a href="#babel-polyfill" aria-hidden="true" class="header-anchor">#</a> BABEL_POLYFILL <span class="badge tip top" data-v-099ab69c>2.2.0+</span></h3> <p><code>@babel/polyfill</code> is included by default, set the value to <code>none</code> if you don't want it.</p> <p>e.g.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ BABEL_POLYFILL<span class="token operator">=</span>none umi build
</code></pre></div><h3 id="compress"><a href="#compress" aria-hidden="true" class="header-anchor">#</a> COMPRESS</h3> <p>The default compression CSS and JS, the value is none when it is none, and it is valid when building. such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ COMPRESS<span class="token operator">=</span>none umi build
</code></pre></div><h3 id="css-compress"><a href="#css-compress" aria-hidden="true" class="header-anchor">#</a> CSS_COMPRESS</h3> <p>The default compression, the value is none without compression, and is valid at build time. Because css compression is sometimes problematic, and compression does not reduce the size, sometimes you can suppress JS without pressing CSS.</p> <h3 id="browser"><a href="#browser" aria-hidden="true" class="header-anchor">#</a> BROWSER</h3> <p>The browser is automatically opened by default. If the value is none, it will not be automatically opened. It is valid when dev. such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ BROWSER<span class="token operator">=</span>none umi dev
</code></pre></div><h3 id="clear-console"><a href="#clear-console" aria-hidden="true" class="header-anchor">#</a> CLEAR_CONSOLE</h3> <p>The default is cleared. If the value is none, the screen is not cleared.</p> <h3 id="hmr"><a href="#hmr" aria-hidden="true" class="header-anchor">#</a> HMR</h3> <p>The HMR is enabled by default, the value is disabled when none, and the value is refreshed when the file changes when reload.</p> <h3 id="babelrc"><a href="#babelrc" aria-hidden="true" class="header-anchor">#</a> BABELRC</h3> <p>Turn on <code>.babelrc</code> parsing, which is not resolved by default.</p> <h3 id="babel-cache"><a href="#babel-cache" aria-hidden="true" class="header-anchor">#</a> BABEL_CACHE</h3> <p>The babel cache is enabled by default, and is disabled when the value is none. such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ BABEL_CACHE<span class="token operator">=</span>none umi dev
</code></pre></div><h3 id="mock"><a href="#mock" aria-hidden="true" class="header-anchor">#</a> MOCK</h3> <p>The mock is enabled by default, and is disabled when the value is none. such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ MOCK<span class="token operator">=</span>none umi dev
</code></pre></div><h3 id="html"><a href="#html" aria-hidden="true" class="header-anchor">#</a> HTML</h3> <p>The HTML file is packaged by default, and the HTML file is not packaged when the value is none. such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ HTML<span class="token operator">=</span>none umi build
</code></pre></div><h3 id="watch-files"><a href="#watch-files" aria-hidden="true" class="header-anchor">#</a> WATCH_FILES</h3> <h3 id="rm-tmpdir"><a href="#rm-tmpdir" aria-hidden="true" class="header-anchor">#</a> RM_TMPDIR</h3> <h3 id="fork-ts-checker"><a href="#fork-ts-checker" aria-hidden="true" class="header-anchor">#</a> FORK_TS_CHECKER</h3> <p>默认不开启TypeScript检查，值为1时启用。比如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ FORK_TS_CHECKER<span class="token operator">=</span>1 umi dev
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/java/migration.html" class="prev">
          Migrate from umi 1.x
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.f5cc174e.js" defer></script><script src="/assets/js/10.bf39ec18.js" defer></script><script src="/assets/js/2.0f4038f2.js" defer></script>
  </body>
</html>
