(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{170:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("In the organization of files and directories, umi tries to choose the agreed upon way.")]),t._v(" "),s("p",[t._v("The directory structure of a complex application is as follows:")]),t._v(" "),t._m(1),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),s("p",[t._v("Then visit "),s("a",{attrs:{href:"http://localhost:8000/api/users",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8000/api/users"),s("OutboundLink")],1),t._v(" in your browser to see "),s("code",[t._v("['a', 'b']")]),t._v(".")]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("For example: the effect of the following two directory structures is the same.")]),t._v(" "),t._m(12),t._m(13),t._m(14),t._v(" "),s("p",[t._v("The global layout is actually a layer outside the route.")]),t._v(" "),s("p",[t._v("For example, your route is:")]),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),s("p",[t._v("When this file is available, it overrides the default HTML template. Needs to include at least the following code:")]),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),s("p",[t._v("At the beginning of the entry file is automatically introduced, you can consider adding polyfill here.")]),t._v(" "),t._m(31),t._v(" "),s("p",[t._v("This file does not go css modules, is automatically introduced, you can write some global styles, or do some style coverage.")]),t._v(" "),t._m(32),t._v(" "),s("p",[t._v("Umi's configuration file, choose one.")]),t._v(" "),t._m(33),t._v(" "),s("p",[t._v("Environment variables, such as:")]),t._v(" "),t._m(34)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"directory-and-convention"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#directory-and-convention","aria-hidden":"true"}},[this._v("#")]),this._v(" Directory and Convention")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(".\n├── dist/                           // default build output directory\n├── mock/                           // The directory where the mock file is located, based on express\n├── config/\n    ├── config.js                   // umi configuration, same as .umirc.js, choose one\n└── src/                            // source directory, optional\n    ├──layouts/index.js             // global layout\n    ├── pages/                      // page directory, the file inside is the route\n        ├── .umi/                   // dev temp directory, need to be added to .gitignore\n        ├── .umi-production/        // build temporary directory, will be deleted automatically\n        ├── document.ejs            // HTML template\n        ├── 404.js                  // 404 page\n        ├── page1.js                // page 1, arbitrarily named, export react component\n        ├── page1.test.js           // Use case file, umi test will match all files ending in .test.js and .e2e.js\n        └── page2.js                // page 2, arbitrarily named\n    ├── global.css                  // Conventional global style files, imported automatically, or global.less\n    ├── global.js                   // can add polyfill here\n├── .umirc.js                       // umi configuration, same as config/config.js, choose one\n├── .env                            // environment variable\n└── package.json\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"es6-grammar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#es6-grammar","aria-hidden":"true"}},[this._v("#")]),this._v(" ES6 Grammar")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Configuration files, mock files, etc. are registered in real time with "),e("code",[this._v("@babel/register")]),this._v(", so you can use ES6 syntax and es modules just like files in src.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"dist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dist","aria-hidden":"true"}},[this._v("#")]),this._v(" dist")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The default output path can be modified by configuring "),e("code",[this._v("outputPath")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"mock"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mock","aria-hidden":"true"}},[this._v("#")]),this._v(" mock")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is agreed that all "),e("code",[this._v(".js")]),this._v(" files in the mock directory will be parsed as mock files.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For example, create a new "),e("code",[this._v("mock/users.js")]),this._v(" with the following contents:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/users'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src","aria-hidden":"true"}},[this._v("#")]),this._v(" src")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("By convention, "),e("code",[this._v("src")]),this._v(" is the source directory. But optional, simple items can be added without the "),e("code",[this._v("src")]),this._v(" directory.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("+ src\n  + pages\n    - index.js\n  + layouts\n    - index.js\n- .umirc.js\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("+ pages\n  - index.js\n+ layouts\n  - index.js\n- .umirc.js\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src-layouts-index-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-layouts-index-js","aria-hidden":"true"}},[this._v("#")]),this._v(" src/layouts/index.js")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[\n  { path: '/', component: './pages/index' },\n  { path: '/users', component: './pages/users' },\n]\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If there is "),e("code",[this._v("layouts/index.js")]),this._v(", then the route becomes:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[\n  { path: '/', component: './layouts/index', routes: [\n    { path: '/', component: './pages/index' },\n    { path: '/users', component: './pages/users' },\n  ] }\n]\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src-pages"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-pages","aria-hidden":"true"}},[this._v("#")]),this._v(" src/pages")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("All the "),e("code",[this._v("(j|t)sx?")]),this._v(" files under the pages are the routes. For more information on contracted routing, go to the Routing chapter.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src-pages-404-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-pages-404-js","aria-hidden":"true"}},[this._v("#")]),this._v(" src/pages/404.js")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("404 page. Note that there is a 404 prompt page provided by the built-in umi in development mode, so you can access this page only by explicitly accessing "),e("code",[this._v("/404")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src-pages-document-ejs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-pages-document-ejs","aria-hidden":"true"}},[this._v("#")]),this._v(" src/pages/document.ejs")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src-pages-umi"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-pages-umi","aria-hidden":"true"}},[this._v("#")]),this._v(" src/pages/.umi")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This is a temporary directory produced by umi dev. It contains "),e("code",[this._v("umi.js")]),this._v(" and "),e("code",[this._v("router.js")]),this._v(" by default, and some plugins will generate some other temporary files here. You can do some validation here, "),e("strong",[this._v("but please don't modify the code directly here, umi restart or file modification under pages will regenerate the files in this folder.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src-pages-umi-production"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-pages-umi-production","aria-hidden":"true"}},[this._v("#")]),this._v(" src/pages/.umi-production")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Same as "),e("code",[this._v("src/pages/.umi")]),this._v(", but generated in "),e("code",[this._v("umi build")]),this._v(", it will be automatically deleted after "),e("code",[this._v("umi build")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"test-js-and-e2e-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test-js-and-e2e-js","aria-hidden":"true"}},[this._v("#")]),this._v(" .test.js and .e2e.js")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The test file, "),e("code",[this._v("umi test")]),this._v(" will find all the .(test|e2e).(j|t)s files to run the test.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src-global-j-t-sx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-global-j-t-sx","aria-hidden":"true"}},[this._v("#")]),this._v(" src/global.(j|t)sx?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"src-global-css-less-sass-scss"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-global-css-less-sass-scss","aria-hidden":"true"}},[this._v("#")]),this._v(" src/global.(css|less|sass|scss)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"umirc-js-and-config-config-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#umirc-js-and-config-config-js","aria-hidden":"true"}},[this._v("#")]),this._v(" .umirc.js and config/config.js")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"env"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#env","aria-hidden":"true"}},[this._v("#")]),this._v(" .env")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("CLEAR_CONSOLE=none\nBROWSER=none\n")])])])}],!1,null,null,null);e.default=r.exports}}]);