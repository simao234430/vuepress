{"remainingRequest":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/simao/javascript_code/vuepress/docs/java/router.md?vue&type=template&id=6914163c&","dependencies":[{"path":"/Users/simao/javascript_code/vuepress/docs/java/router.md","mtime":1550041214208},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1550030173624}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._ssrNode(\"<h1 id=\\\"router\\\"><a href=\\\"#router\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Router</h1> \"),_vm._ssrNode(\"<div class=\\\"tip custom-block\\\">\",\"</div>\",[_vm._ssrNode(\"<p class=\\\"custom-block-title\\\">TIP</p> \"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"The routing usage described below can be found in \"),_vm._ssrNode(\"<a href=\\\"https://github.com/umijs/umi-examples/tree/master/routes\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\",\"</a>\",[_vm._ssrNode(\"umi-examples/routes\"),_c('OutboundLink')],2),_vm._ssrNode(\" and find the sample code in \"),_vm._ssrNode(\"<a href=\\\"https://github.com/umijs/umi-examples/tree/master/routes-via-config\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\",\"</a>\",[_vm._ssrNode(\"umi-examples/routes-via-config\"),_c('OutboundLink')],2),_vm._ssrNode(\".\")],2)],2),_vm._ssrNode(\" <p>Umi automatically generates routing configurations based on the <code>pages</code> directory.</p> <h2 id=\\\"conventional-routing\\\"><a href=\\\"#conventional-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Conventional Routing</h2> <h3 id=\\\"basic-routing\\\"><a href=\\\"#basic-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Basic Routing</h3> <p>Assume that the <code>pages</code> directory structure is as follows:</p> <div class=\\\"language- extra-class\\\"><pre class=\\\"language-text\\\"><code>+ pages/\\n  + users/\\n    - index.js\\n    - list.js\\n  - index.js\\n</code></pre></div><p>Then, umi will automatically generate the routing configuration as follows:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/index.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users/'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/users/index.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users/list'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/users/list.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">]</span>\\n</code></pre></div><h3 id=\\\"dynamic-routing\\\"><a href=\\\"#dynamic-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Dynamic Routing</h3> <p>As agreed in umi, directories or files with the <code>$</code> prefix are dynamic routes.</p> <p>For example, the following directory structure:</p> <div class=\\\"language- extra-class\\\"><pre class=\\\"language-text\\\"><code>+ pages/\\n  + $post/\\n    - index.js\\n    - comments.js\\n  + users/\\n    $id.js\\n  - index.js\\n</code></pre></div><p>The routing configuration will be generated as follows:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/index.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users/:id'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/users/$id.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/:post/'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/$post/index.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/:post/comments'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/$post/comments.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">]</span>\\n</code></pre></div><h3 id=\\\"optional-dynamic-routing\\\"><a href=\\\"#optional-dynamic-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Optional Dynamic Routing</h3> <p>In umi, dynamic routing is an optional dynamic route if it has a <code>$</code> suffix.</p> <p>For example, the following structure:</p> <div class=\\\"language- extra-class\\\"><pre class=\\\"language-text\\\"><code>+ pages/\\n  + users/\\n    - $id$.js\\n  - index.js\\n</code></pre></div><p>The routing configuration will be generated as follows:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">:</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/index.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users/:id?'</span><span class=\\\"token punctuation\\\">:</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/users/$id$.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">]</span>\\n</code></pre></div><h3 id=\\\"nested-routing\\\"><a href=\\\"#nested-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Nested Routing</h3> <p>When there is <code>_layout.js</code> in the umi directory, a nested route will be generated, with <code>_layout.js</code> as the layout of the directory.</p> <p>For example, the following directory structure:</p> <div class=\\\"language- extra-class\\\"><pre class=\\\"language-text\\\"><code>+ pages/\\n  + users/\\n    - _layout.js\\n    - $id.js\\n    - index.js\\n</code></pre></div><p>The routing configuration will be generated as follows:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/users/_layout.js'</span><span class=\\\"token punctuation\\\">,</span>\\n    routes<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n     <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users/'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/users/index.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n     <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users/:id'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/users/$id.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n   <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">]</span>\\n</code></pre></div><h3 id=\\\"global-layout\\\"><a href=\\\"#global-layout\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Global Layout</h3> <p>The convention <code>src/layouts/index.js</code> is a global route, returning a React component, and rendering the child components via <code>props.children</code>.</p> <p>Example:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token operator\\\">&lt;</span>Header <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token punctuation\\\">{</span> props<span class=\\\"token punctuation\\\">.</span>children <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span>Footer <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">&gt;</span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">&gt;</span>\\n  <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div><h3 id=\\\"different-global-layout\\\"><a href=\\\"#different-global-layout\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Different Global Layout</h3> <p>You may need to output a different global layout for different routes. umi does not support such a configuration, but you can still distinguish between location.path and render different layouts in <code>layouts/index.js</code>.</p> <p>For example, if you want to output a simple layout for /login,</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">.</span>location<span class=\\\"token punctuation\\\">.</span>pathname <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">'/login'</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token operator\\\">&lt;</span>SimpleLayout<span class=\\\"token operator\\\">&gt;</span><span class=\\\"token punctuation\\\">{</span> props<span class=\\\"token punctuation\\\">.</span>children <span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>SimpleLayout<span class=\\\"token operator\\\">&gt;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token operator\\\">&lt;</span>Header <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token punctuation\\\">{</span> props<span class=\\\"token punctuation\\\">.</span>children <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span>Footer <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">&gt;</span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">&gt;</span>\\n  <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div><h3 id=\\\"_404-routing\\\"><a href=\\\"#_404-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 404 Routing</h3> <p>The convention <code>pages/404.js</code> is a 404 page and needs to return a React component.</p> <p>Example:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">&gt;</span><span class=\\\"token constant\\\">I</span> am a customized <span class=\\\"token number\\\">404</span> page<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">&gt;</span>\\n  <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre></div><blockquote><p>Note: In development mode, umi will add a default 404 page to aid development, but you can still verify the 404 page by precisely accessing <code>/404</code>.</p></blockquote> <h3 id=\\\"extending-routing-by-annotation\\\"><a href=\\\"#extending-routing-by-annotation\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Extending Routing by Annotation</h3> <p>The first comment of the contracted routing file is used to extend the route if it contains a configuration in the <strong>yaml</strong> format.</p> <p>Example:</p> <div class=\\\"language- extra-class\\\"><pre class=\\\"language-text\\\"><code>+ pages/\\n  - index.js\\n</code></pre></div><p>If <code>pages/index.js</code> contains:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token comment\\\">/**\\n * title: Index Page\\n * Routes:\\n *   - ./src/routes/a.js\\n *   - ./src/routes/b.js\\n */</span>\\n</code></pre></div><p>A route configuration is generated:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./index.js'</span><span class=\\\"token punctuation\\\">,</span>\\n    title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'Index Page'</span><span class=\\\"token punctuation\\\">,</span>\\n    Routes<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span> <span class=\\\"token string\\\">'./src/routes/a.js'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'./src/routes/b.js'</span> <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">]</span>\\n</code></pre></div><h2 id=\\\"configuration-routing\\\"><a href=\\\"#configuration-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Configuration Routing</h2> <p>If you prefer to use a configured route, you can configure <code>routes</code>, <strong>this configuration item will not be parsed for the <code>src/pages</code> directory</strong>.</p> <p>Example:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token punctuation\\\">{</span>\\n  routes<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n    <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./a'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/list'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./b'</span><span class=\\\"token punctuation\\\">,</span> Routes<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'./routes/PrivateRoute.js'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./users/_layout'</span><span class=\\\"token punctuation\\\">,</span>\\n      routes<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n        <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users/detail'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./users/detail'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/users/:id'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./users/id'</span> <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">]</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre></div><p>note:</p> <ol><li>component is relative to the <code>src/pages</code> directory</li></ol> <h2 id=\\\"permission-routing\\\"><a href=\\\"#permission-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Permission Routing</h2> <p>The permission routing of umi is implemented by configuring the <code>Routes</code> attribute of the route. The convention is added by the yaml annotation, and the configuration formula can be directly matched.</p> <p>For example, the following configuration:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/index.js'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/list'</span><span class=\\\"token punctuation\\\">,</span> component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./pages/list.js'</span><span class=\\\"token punctuation\\\">,</span> Routes<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'./routes/PrivateRoute.js'</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">]</span>\\n</code></pre></div><p>Then umi will render <code>/list</code> with <code>./routes/PrivateRoute.js</code>.</p> <p>Example of <code>./routes/PrivateRoute.js</code> file:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">&gt;</span><span class=\\\"token function\\\">PrivateRoute</span> <span class=\\\"token punctuation\\\">(</span>routes<span class=\\\"token operator\\\">/</span>PrivateRoute<span class=\\\"token punctuation\\\">.</span>js<span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token punctuation\\\">{</span> props<span class=\\\"token punctuation\\\">.</span>children <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">&gt;</span>\\n  <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div><h2 id=\\\"route-transition-effects\\\"><a href=\\\"#route-transition-effects\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Route Transition Effects</h2> \"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"There are several ways to implement route transition effects. Here is an example of \"),_vm._ssrNode(\"<a href=\\\"https://github.com/reactjs/react-transition-group\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\",\"</a>\",[_vm._ssrNode(\"react-transition-group\"),_c('OutboundLink')],2),_vm._ssrNode(\".\")],2),_vm._ssrNode(\" <p>Install dependencies first,</p> <div class=\\\"language-bash extra-class\\\"><pre class=\\\"language-bash\\\"><code>$ yarn add react-transition-group\\n</code></pre></div><p>In the layout component (<code>layouts/index.js</code> or <code>_layout.js</code> in the pages subdirectory), wrap a subassembly with <code>TransitionGroup</code> and <code>CSSTransition</code> and use <code>location.pathname</code> as the key.</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">import</span> withRouter <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'umi/withRouter'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> TransitionGroup<span class=\\\"token punctuation\\\">,</span> CSSTransition <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">&quot;react-transition-group&quot;</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token function\\\">withRouter</span><span class=\\\"token punctuation\\\">(</span>\\n  <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> location <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span>\\n    <span class=\\\"token operator\\\">&lt;</span>TransitionGroup<span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token operator\\\">&lt;</span>CSSTransition key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>location<span class=\\\"token punctuation\\\">.</span>pathname<span class=\\\"token punctuation\\\">}</span> classNames<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">&quot;fade&quot;</span> timeout<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token number\\\">300</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n        <span class=\\\"token punctuation\\\">{</span> children <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>CSSTransition<span class=\\\"token operator\\\">&gt;</span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>TransitionGroup<span class=\\\"token operator\\\">&gt;</span>\\n<span class=\\\"token punctuation\\\">)</span>\\n</code></pre></div><p>The <code>fade</code> style used above can be defined in <code>global.css</code> under <code>src</code>:</p> <div class=\\\"language-css extra-class\\\"><pre class=\\\"language-css\\\"><code><span class=\\\"token selector\\\">.fade-enter</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">opacity</span><span class=\\\"token punctuation\\\">:</span> 0<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token property\\\">z-index</span><span class=\\\"token punctuation\\\">:</span> 1<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token selector\\\">.fade-enter.fade-enter-active</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">opacity</span><span class=\\\"token punctuation\\\">:</span> 1<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token property\\\">transition</span><span class=\\\"token punctuation\\\">:</span> opacity 250ms ease-in<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div><h2 id=\\\"bread-crumbs\\\"><a href=\\\"#bread-crumbs\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Bread Crumbs</h2> \"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"There are many ways to implement breadcrumbs. Here is an example of \"),_vm._ssrNode(\"<a href=\\\"https://github.com/icd2k3/react-router-breadcrumbs-hoc\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\",\"</a>\",[_vm._ssrNode(\"react-router-breadcrumbs-hoc\"),_c('OutboundLink')],2),_vm._ssrNode(\".\")],2),_vm._ssrNode(\" <p>Install dependencies first,</p> <div class=\\\"language-bash extra-class\\\"><pre class=\\\"language-bash\\\"><code>$ yarn add react-router-breadcrumbs-hoc\\n</code></pre></div><p>Then implement a <code>Breakcrumbs.js</code>, such as:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">import</span> NavLink <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'umi/navlink'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> withBreadcrumbs <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react-router-breadcrumbs-hoc'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// More configuration please go to https://github.com/icd2k3/react-router-breadcrumbs-hoc</span>\\n<span class=\\\"token keyword\\\">const</span> routes <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span> breadcrumb<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'home'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/list'</span><span class=\\\"token punctuation\\\">,</span> breadcrumb<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'List Page'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token function\\\">withBreadcrumbs</span><span class=\\\"token punctuation\\\">(</span>routes<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> breadcrumbs <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">(</span>\\n  <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">&gt;</span>\\n    <span class=\\\"token punctuation\\\">{</span>breadcrumbs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>breadcrumb<span class=\\\"token punctuation\\\">,</span> index<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token operator\\\">&lt;</span>span key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>breadcrumb<span class=\\\"token punctuation\\\">.</span>key<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n        <span class=\\\"token operator\\\">&lt;</span>NavLink to<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>breadcrumb<span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>match<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n          <span class=\\\"token punctuation\\\">{</span>breadcrumb<span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>NavLink<span class=\\\"token operator\\\">&gt;</span>\\n        <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">(</span>index <span class=\\\"token operator\\\">&lt;</span> breadcrumbs<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span> <span class=\\\"token operator\\\">&lt;</span>i<span class=\\\"token operator\\\">&gt;</span> <span class=\\\"token operator\\\">/</span> <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>i<span class=\\\"token operator\\\">&gt;</span><span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>span<span class=\\\"token operator\\\">&gt;</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">&gt;</span>\\n<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre></div><p>Then introduce this React component where you need it.</p> <h2 id=\\\"enable-hash-routing\\\"><a href=\\\"#enable-hash-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Enable Hash Routing</h2> <p>Umi defaults to the Browser History. If you want to use Hash History, you need to configure:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token punctuation\\\">{</span>\\n  history<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'hash'</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div><h2 id=\\\"scroll-to-top\\\"><a href=\\\"#scroll-to-top\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Scroll to Top</h2> <p>Decide whether to scroll to top in the <code>componentDidUpdate</code> of the layout component (<code>layouts/index.js</code> or the <code>_layout.js</code> in the pages subdirectory), for example:</p> <div class=\\\"language-js extra-class\\\"><pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Component <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> withRouter <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'umi/withRouter'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Layout</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">Component</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token function\\\">componentDidUpdate</span><span class=\\\"token punctuation\\\">(</span>prevProps<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>location <span class=\\\"token operator\\\">!==</span> prevProps<span class=\\\"token punctuation\\\">.</span>location<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      window<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">scrollTo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>children<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token function\\\">withRouter</span><span class=\\\"token punctuation\\\">(</span>Layout<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre></div><h2 id=\\\"reference\\\"><a href=\\\"#reference\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Reference</h2> \"),_vm._ssrNode(\"<ul>\",\"</ul>\",[_vm._ssrNode(\"<li>\",\"</li>\",[_vm._ssrNode(\"<a href=\\\"https://reacttraining.com/react-router/\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\",\"</a>\",[_vm._ssrNode(\"https://reacttraining.com/react-router/\"),_c('OutboundLink')],2)])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}