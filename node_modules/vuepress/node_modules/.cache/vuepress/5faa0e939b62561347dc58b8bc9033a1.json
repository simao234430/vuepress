{"remainingRequest":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/simao/javascript_code/vuepress/docs/java/faq.md?vue&type=template&id=85edcbc4&","dependencies":[{"path":"/Users/simao/javascript_code/vuepress/docs/java/faq.md","mtime":1550041214207},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1550030173624}],"contextDependencies":[],"result":["\n<div class=\"content\"><h1 id=\"faq\"><a class=\"header-anchor\" href=\"#faq\" aria-hidden=\"true\">#</a> FAQ</h1>\n<h2 id=\"general\"><a class=\"header-anchor\" href=\"#general\" aria-hidden=\"true\">#</a> General</h2>\n<h3 id=\"can-it-be-used-in-a-production-environment\"><a class=\"header-anchor\" href=\"#can-it-be-used-in-a-production-environment\" aria-hidden=\"true\">#</a> Can it be used in a production environment?</h3>\n<p>Umi is the underlying front-end framework of Ant Financial, which has directly or indirectly served 600+ applications, including java, node, H5 wireless, Hybrid applications, pure front-end assets applications, CMS applications, and more.</p>\n<h3 id=\"how-do-i-view-the-version-numbers-such-as-react-react-dom-and-react-router\"><a class=\"header-anchor\" href=\"#how-do-i-view-the-version-numbers-such-as-react-react-dom-and-react-router\" aria-hidden=\"true\">#</a> How do I view the version numbers such as react, react-dom, and react-router?</h3>\n<!--beforebegin--><div class=\"language-bash line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ umi -v --verbose\n\numi@2.0.0\ndarwin x64\nnode@v10.6.0\numi-build-dev@1.0.0\naf-webpack@1.0.0\nbabel-preset-umi@1.0.0\numi-test@1.0.0\nreact@16.4.2 <span class=\"token punctuation\">(</span>/Users/chencheng/code/github.com/ant-design/ant-design-pro/node_modules/react<span class=\"token punctuation\">)</span>\nreact-dom@16.4.2 <span class=\"token punctuation\">(</span>/Users/chencheng/code/github.com/ant-design/ant-design-pro/node_modules/react-dom<span class=\"token punctuation\">)</span>\nreact-router@4.3.1 <span class=\"token punctuation\">(</span>/Users/chencheng/code/github.com/umijs/umi/packages/umi-build-dev/node_modules/react-router<span class=\"token punctuation\">)</span>\nreact-router-dom@4.3.1 <span class=\"token punctuation\">(</span>/Users/chencheng/code/github.com/ant-design/ant-design-pro/node_modules/react-router-dom<span class=\"token punctuation\">)</span>\ndva@2.4.0 <span class=\"token punctuation\">(</span>/Users/chencheng/code/github.com/ant-design/ant-design-pro/node_modules/dva<span class=\"token punctuation\">)</span>\ndva-loading@2.0.5\ndva-immer@0.2.3\npath-to-regexp@1.7.0\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br><span class=\"line-number\">17</span><br></div><!--beforeend--></div><!--afterend--><h3 id=\"how-to-introduce-babel-polyfill\"><a class=\"header-anchor\" href=\"#how-to-introduce-babel-polyfill\" aria-hidden=\"true\">#</a> How to introduce @babel/polyfill?</h3>\n<p>Install dependencies first,</p>\n<!--beforebegin--><div class=\"language-bash line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ yarn add @babel/polyfill\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br></div><!--beforeend--></div><!--afterend--><p>Then create a new <code>src/global.js</code> with the following contents:</p>\n<!--beforebegin--><div class=\"language-js line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-js\"><code><span class=\"token keyword\">import</span> <span class=\"token string\">'@babel/polyfill'</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br></div><!--beforeend--></div><!--afterend--><h3 id=\"how-to-dynamically-modify-the-title\"><a class=\"header-anchor\" href=\"#how-to-dynamically-modify-the-title\" aria-hidden=\"true\">#</a> How to dynamically modify the title?</h3>\n<p>The title can be dynamically modified via <a href=\"https://github.com/nfl/react-helmet\" target=\"_blank\" rel=\"noopener noreferrer\">react-helmet<OutboundLink/></a>.</p>\n<blockquote>\n<p>Note: In a hybrid application, if you use react-helmet in the ios web container, you can try <a href=\"https://github.com/gaearon/react-document-title\" target=\"_blank\" rel=\"noopener noreferrer\">react-document-title<OutboundLink/></a>.</p>\n</blockquote>\n<h2 id=\"reporting-error\"><a class=\"header-anchor\" href=\"#reporting-error\" aria-hidden=\"true\">#</a> Reporting Error</h2>\n<h3 id=\"object-values-is-not-a-function\"><a class=\"header-anchor\" href=\"#object-values-is-not-a-function\" aria-hidden=\"true\">#</a> <code>Object.values</code> is not a function</h3>\n<p>E.g.</p>\n<img src=\"https://gw.alipayobjects.com/zos/rmsportal/mTaaEfxKkkGAQicDOSeb.png\" />\n<p>Upgrade the node version and make sure the version is 8.10 or greater.</p>\n<h3 id=\"exports-is-not-defined\"><a class=\"header-anchor\" href=\"#exports-is-not-defined\" aria-hidden=\"true\">#</a> <code>exports is not defined</code></h3>\n<p>E.g.</p>\n<img src=\"https://gw.alipayobjects.com/zos/rmsportal/fLNyyPNyquAGoYQxxIDI.png\" />\n<p>Check the babel configuration to remove unnecessary presets and plugins.</p>\n<h3 id=\"plugin-umi-plugin-react-pwa-initialize-failed\"><a class=\"header-anchor\" href=\"#plugin-umi-plugin-react-pwa-initialize-failed\" aria-hidden=\"true\">#</a> <code>Plugin umi-plugin-react:pwa initialize failed</code></h3>\n<p>E.g.</p>\n<img src=\"https://gw.alipayobjects.com/zos/rmsportal/lSuOXlbtrZPLoMaLBODj.png\" />\n<p>Make sure you have package.json and have configured the <code>name</code> attribute.</p>\n<h3 id=\"conflicting-order-between-mini-css-extract-plugin\"><a class=\"header-anchor\" href=\"#conflicting-order-between-mini-css-extract-plugin\" aria-hidden=\"true\">#</a> <code>Conflicting order between [mini-css-extract-plugin]</code></h3>\n<p>E.g.</p>\n<img src=\"https://gw.alipayobjects.com/zos/rmsportal/mjzdexbrmZulkjCAqzPC.png\" />\n<p>This is <a href=\"https://github.com/webpack-contrib/mini-css-extract-plugin/issues/250\" target=\"_blank\" rel=\"noopener noreferrer\">a problem with the webpack plugin<OutboundLink/></a>, which does not affect the normal production of CSS files and can be ignored for now.</p>\n<h3 id=\"umi-is-not-an-internal-or-external-command\"><a class=\"header-anchor\" href=\"#umi-is-not-an-internal-or-external-command\" aria-hidden=\"true\">#</a> <code>umi</code> is not an internal or external command</h3>\n<p>E.g.</p>\n<img src=\"https://gw.alipayobjects.com/zos/rmsportal/fatmbcGwSOwDntHjmrtG.png\" />\n<p>You need to configure the NODE_PATH environment variable. If you use yarn, you can get the bin path by executing <code>yarn global bin</code>.</p>\n<h2 id=\"webpack\"><a class=\"header-anchor\" href=\"#webpack\" aria-hidden=\"true\">#</a> webpack</h2>\n<h3 id=\"how-to-configure-additional-loader\"><a class=\"header-anchor\" href=\"#how-to-configure-additional-loader\" aria-hidden=\"true\">#</a> How to configure additional loader?</h3>\n<p>For example, I hope .svg not to produce base64, but to generate svg files, which can be configured like this:</p>\n<!--beforebegin--><div class=\"language-js line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-js\"><code><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Add exclude for url-loader</span>\n  urlLoaderExcludes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token regex\">/.svg$/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// Add loader</span>\n  <span class=\"token function\">chainWebpack</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    config<span class=\"token punctuation\">.</span>module<span class=\"token punctuation\">.</span><span class=\"token function\">rule</span><span class=\"token punctuation\">(</span><span class=\"token string\">'svg-with-file'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/.svg$/</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">'svg-with-file-loader'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">loader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'file-loader'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br></div><!--beforeend--></div><!--afterend--><h2 id=\"css\"><a class=\"header-anchor\" href=\"#css\" aria-hidden=\"true\">#</a> CSS</h2>\n<h3 id=\"why-don-t-my-imported-css-files-take-effect\"><a class=\"header-anchor\" href=\"#why-don-t-my-imported-css-files-take-effect\" aria-hidden=\"true\">#</a> Why don't my imported CSS files take effect?</h3>\n<p>umi use css modules by default, please write your css as css modules.</p>\n<p>Ref:</p>\n<ul>\n<li><a href=\"https://github.com/css-modules/css-modules\" target=\"_blank\" rel=\"noopener noreferrer\">css-modules/css-modules<OutboundLink/></a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2016/06/css_modules.html\" target=\"_blank\" rel=\"noopener noreferrer\">CSS Modules usage tutorial<OutboundLink/></a></li>\n</ul>\n<h3 id=\"how-to-disable-css-modules\"><a class=\"header-anchor\" href=\"#how-to-disable-css-modules\" aria-hidden=\"true\">#</a> How to disable CSS modules?</h3>\n<p>Modify <code>.umirc.js</code>:</p>\n<!--beforebegin--><div class=\"language-json line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n <span class=\"token property\">\"disableCSSModules\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br></div><!--beforeend--></div><!--afterend--><p>However, it is not recommended to turn off css modules for no particular reason.</p>\n<h3 id=\"how-to-use-sass\"><a class=\"header-anchor\" href=\"#how-to-use-sass\" aria-hidden=\"true\">#</a> How to use sass?</h3>\n<p>Install additional dependencies first,</p>\n<!--beforebegin--><div class=\"language-bash line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ <span class=\"token function\">npm</span> i node-sass sass-loader --save\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br></div><!--beforeend--></div><!--afterend--><p>Then modify <code>.umirc.js</code>:</p>\n<!--beforebegin--><div class=\"language-json line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n <span class=\"token property\">\"sass\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br></div><!--beforeend--></div><!--afterend--><h2 id=\"test\"><a class=\"header-anchor\" href=\"#test\" aria-hidden=\"true\">#</a> Test</h2>\n<h3 id=\"how-to-do-breakpoint-debugging\"><a class=\"header-anchor\" href=\"#how-to-do-breakpoint-debugging\" aria-hidden=\"true\">#</a> How to do breakpoint debugging?</h3>\n<p>Make sure node version is above 8.10 and then execute:</p>\n<!--beforebegin--><div class=\"language-bash line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ node --inspect-brk ./node_modules/.bin/umi <span class=\"token function\">test</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br></div><!--beforeend--></div><!--afterend--><p>Then open chrome://inspect/#devices in the browser for inspect and breakpoints.</p>\n<h2 id=\"deployment\"><a class=\"header-anchor\" href=\"#deployment\" aria-hidden=\"true\">#</a> Deployment</h2>\n<h3 id=\"after-the-build-access-route-is-refreshed-404\"><a class=\"header-anchor\" href=\"#after-the-build-access-route-is-refreshed-404\" aria-hidden=\"true\">#</a> After the build access route is refreshed 404?</h3>\n<p>Several options are available:</p>\n<ul>\n<li>Use <code>hashHistory</code> instead of <code>history: 'hash' in</code>.umirc.js`</li>\n<li>Static, with <code>exportStatic: true</code> in <code>.umirc.js</code></li>\n<li>The server configures the route fallback to index.html</li>\n</ul>\n<h3 id=\"after-the-build-the-picture-is-lost\"><a class=\"header-anchor\" href=\"#after-the-build-the-picture-is-lost\" aria-hidden=\"true\">#</a> After the build, the picture is lost?</h3>\n<p>It may be that the picture is not correctly quoted. You can refer to the code and import the picture correctly.</p>\n<!--beforebegin--><div class=\"language-js line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-js\"><code><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> logo <span class=\"token keyword\">from</span> <span class=\"token string\">'./logo.png'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Tell Webpack this JS file to use this image</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>logo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// logo.84287d09.png</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// import image</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>img src<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>logo<span class=\"token punctuation\">}</span> alt<span class=\"token operator\">=</span><span class=\"token string\">\"Logo\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Header<span class=\"token punctuation\">;</span>\n\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br></div><!--beforeend--></div><!--afterend--><p>Use in css, be careful not to use absolute paths</p>\n<!--beforebegin--><div class=\"language-css line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-css\"><code><span class=\"token selector\">.Logo</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token url\">url(./logo.png)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br></div><!--beforeend--></div><!--afterend--><blockquote>\n<p>Note: base64 will be taken when the image size is less than 10 k. That is, it will not be copied to the public folder, but will be stored as a base64 resource.</p>\n</blockquote>\n</div>\n",null]}