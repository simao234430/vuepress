{"remainingRequest":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/simao/javascript_code/vuepress/docs/java/migration.md?vue&type=template&id=40e8b524&","dependencies":[{"path":"/Users/simao/javascript_code/vuepress/docs/java/migration.md","mtime":1550041214207},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1550030173624}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._m(0),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"More like watching videos? You can \"),_c('a',{attrs:{\"href\":\"https://youtu.be/1mvKzFLLBck\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"click here to watch\"),_c('OutboundLink')],1),_vm._v(\".\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"Let's take an example of \"),_c('a',{attrs:{\"href\":\"https://github.com/zuiidea/antd-admin/pull/877\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"antd-admin\"),_c('OutboundLink')],1),_vm._v(\" to update from umi@1 to umi@2.\")]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_c('p',[_vm._v(\"Umi-plugin-react is a collection of more than a dozen plugins, as described in \"),_c('router-link',{attrs:{\"to\":\"/plugin/umi-plugin-react.html\"}},[_vm._v(\"Introduction to umi-plugin-react\")]),_vm._v(\".\")],1),_vm._v(\" \"),_vm._m(4),_vm._v(\" \"),_vm._m(5),_vm._v(\" \"),_vm._m(6),_vm._m(7),_vm._v(\" \"),_vm._m(8),_c('p',[_vm._v(\"In addition, some environment variables have changed or are no longer supported:\")]),_vm._v(\" \"),_vm._m(9),_vm._v(\" \"),_vm._m(10),_vm._v(\" \"),_vm._m(11),_vm._v(\" \"),_vm._m(12),_vm._v(\" \"),_vm._m(13),_c('p',[_vm._v(\"For more dll, hardSource, polyfilles, locale, title, etc., refer to \"),_c('router-link',{attrs:{\"to\":\"/plugin/umi-plugin-react.html\"}},[_vm._v(\"umi-plugin-react documentation\")]),_vm._v(\".\")],1),_vm._v(\" \"),_vm._m(14),_vm._v(\" \"),_vm._m(15),_vm._v(\" \"),_vm._m(16),_vm._v(\" \"),_c('p',[_vm._v(\"Umi@2 no longer supports \"),_c('code',[_vm._v(\"webpack.config.js\")]),_vm._v(\", instead it is implemented by configuring \"),_c('router-link',{attrs:{\"to\":\"/config/#chainwebpack\"}},[_vm._v(\"chainWebpack\")]),_vm._v(\".\")],1),_vm._v(\" \"),_vm._m(17),_vm._v(\" \"),_vm._m(18),_vm._v(\" \"),_vm._m(19),_vm._v(\" \"),_vm._m(20),_vm._v(\" \"),_vm._m(21),_vm._v(\" \"),_c('p',[_vm._v(\"Interface changes, umi@2 is based on \"),_c('a',{attrs:{\"href\":\"https://github.com/jamiebuilds/react-loadable\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"react-loadable\"),_c('OutboundLink')],1),_vm._v(\".\")]),_vm._v(\" \"),_vm._m(22),_c('p',[_vm._v(\"See \"),_c('router-link',{attrs:{\"to\":\"/api/#umi-dynamic\"}},[_vm._v(\"umi/dynamic Interface Description\")]),_vm._v(\" for details.\")],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{attrs:{\"id\":\"migrate-from-umi-1-x\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#migrate-from-umi-1-x\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" Migrate from umi 1.x\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"npm-dependency\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#npm-dependency\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" npm Dependency\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Upgrade umi to \"),_c('code',[_vm._v(\"^2.0.0-0\")]),_vm._v(\" and use umi-plugin-react instead of the previous plugins, including umi-plugin-dva, umi-plugin-dll, umi-plugin-routes, umi-plugin-polyfill and Umi-plugin-locale.\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-diff extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-diff\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token deleted\"}},[_vm._v(\"- \\\"umi\\\": \\\"^1.3.17\\\",\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token inserted\"}},[_vm._v(\"+ \\\"umi\\\": \\\"^2.0.0-beta.16\\\",\")]),_vm._v(\"\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token deleted\"}},[_vm._v(\"- \\\"umi-plugin-dll\\\": \\\"^0.2.1\\\",\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token deleted\"}},[_vm._v(\"- \\\"umi-plugin-dva\\\": \\\"^0.9.1\\\",\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token deleted\"}},[_vm._v(\"- \\\"umi-plugin-routes\\\": \\\"^0.1.5\\\"\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token inserted\"}},[_vm._v(\"+ \\\"umi-plugin-react\\\": \\\"^1.0.0-beta.16\\\",\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"environment-variables\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#environment-variables\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" Environment Variables\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Umi@2 supports configuring environment variables in \"),_c('code',[_vm._v(\".env\")]),_vm._v(\", so the environment variables previously written in package.json scripts can be cut here.\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-diff extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-diff\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token deleted\"}},[_vm._v(\"- \\\"start\\\": \\\"cross-env COMPILE_ON_DEMAND=none BROWSER=none HOST=0.0.0.0 umi dev\\\",\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token inserted\"}},[_vm._v(\"+ \\\"start\\\": \\\"cross-env BROWSER=none HOST=0.0.0.0 umi dev\\\",\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Then create a new \"),_c('code',[_vm._v(\".env\")]),_vm._v(\", (where \"),_c('code',[_vm._v(\"COMPILE_ON_DEMAND\")]),_vm._v(\" is no longer supported)\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language- extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"BROWSER=none\\nHOST=0.0.0.0\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('code',[_vm._v(\"PUBLIC_PATH\")]),_vm._v(\" is no longer supported, configured by \"),_c('code',[_vm._v(\"publicPath\")])]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"BASE_URL\")]),_vm._v(\" is no longer supported, configured by \"),_c('code',[_vm._v(\"base\")])]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"COMPILE_ON_DEMAND\")]),_vm._v(\" is no longer supported, and this function is not available in umi@2.\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"TSLINT\")]),_vm._v(\" is no longer supported, and this function is not available in umi@2.\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"ESLINT\")]),_vm._v(\" is no longer supported, and this function is not available in umi@2.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"configuration\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#configuration\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" Configuration\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"plugin-configuration\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#plugin-configuration\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" Plugin Configuration\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Since we changed a lot of plugins to umi-plugin-react, we need to modify \"),_c('code',[_vm._v(\".umirc.js\")]),_vm._v(\".\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-diff extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-diff\"}},[_c('code',[_vm._v(\"export default {\\n  plugins: [\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token deleted\"}},[_vm._v(\"-    'umi-plugin-dva',\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token inserted\"}},[_vm._v(\"+    ['umi-plugin-react', {\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token inserted\"}},[_vm._v(\"+      dva: true,\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token inserted\"}},[_vm._v(\"+      antd: true,  // antd is not enabled by default, if you need to use it yourself\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token inserted\"}},[_vm._v(\"+    }],\")]),_vm._v(\"\\n  ],\\n};\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"webpackrc-js\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#webpackrc-js\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" webpackrc.js\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Umi@2 no longer supports \"),_c('code',[_vm._v(\"webpackrc.js\")]),_vm._v(\", copy the configuration inside it to \"),_c('code',[_vm._v(\".umirc.js\")]),_vm._v(\".\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"webpack-config-js\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#webpack-config-js\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" webpack.config.js\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"detailed-configuration-item-changes\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#detailed-configuration-item-changes\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" Detailed Configuration Item Changes\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('code',[_vm._v(\"hd\")]),_vm._v(\" is no longer supported. To enable it, load the plugin \"),_c('code',[_vm._v(\"umi-plugin-react\")]),_vm._v(\" and configure \"),_c('code',[_vm._v(\"hd: {}\")])]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"disableServiceWorker\")]),_vm._v(\" is no longer supported, it is not enabled by default. To enable it, load the plugin \"),_c('code',[_vm._v(\"umi-plugin-react\")]),_vm._v(\" and configure \"),_c('code',[_vm._v(\"pwa: {}\")])]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"preact\")]),_vm._v(\" is no longer supported. To configure, load the plugin \"),_c('code',[_vm._v(\"umi-plugin-react\")]),_vm._v(\" and configure `library: 'preact'.\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"loading\")]),_vm._v(\" is no longer supported. To configure, load the plugin \"),_c('code',[_vm._v(\"umi-plugin-react\")]),_vm._v(\" and configure \"),_c('code',[_vm._v(\"dynamicImport.loadingComponent\")])]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"hashHistory: true\")]),_vm._v(\" changed to \"),_c('code',[_vm._v(\"history: 'hash'\")])]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"disableDynamicImport\")]),_vm._v(\" is no longer supported, it is not enabled by default. To enable it, load the plugin \"),_c('code',[_vm._v(\"umi-plugin-react\")]),_vm._v(\" and configure \"),_c('code',[_vm._v(\"dynamicImport: {}\")])]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"disableFastClick\")]),_vm._v(\" is no longer supported, it is not enabled by default. To enable it, load the plugin \"),_c('code',[_vm._v(\"umi-plugin-react\")]),_vm._v(\" and configure \"),_c('code',[_vm._v(\"fastClick: {}\")])]),_vm._v(\" \"),_c('li',[_vm._v(\"No longer supports \"),_c('code',[_vm._v(\"pages\")]),_vm._v(\", instead of directly on the route\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"disableHash\")]),_vm._v(\" is no longer supported, it is not enabled by default. To enable it, configure \"),_c('code',[_vm._v(\"hash: true\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"conventional-routing\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#conventional-routing\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" Conventional Routing\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"The routing layer no longer supports directory-level routing for \"),_c('code',[_vm._v(\"page.js\")]),_vm._v(\". Previously useful, you need to exclude unwanted routes through umi-plugin-react's routes.exclude.\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"umi-dynamic\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#umi-dynamic\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" umi/dynamic\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-diff extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-diff\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token deleted\"}},[_vm._v(\"- dynamic(async () => {})\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token inserted\"}},[_vm._v(\"+ dynamic({ loader: async () => {}})\")]),_vm._v(\"\\n\")])])])}]\n\nexport { render, staticRenderFns }"]}