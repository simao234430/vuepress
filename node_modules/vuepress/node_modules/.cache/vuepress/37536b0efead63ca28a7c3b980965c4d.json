{"remainingRequest":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/simao/javascript_code/vuepress/docs/java/html-template.md?vue&type=template&id=71295058&","dependencies":[{"path":"/Users/simao/javascript_code/vuepress/docs/java/html-template.md","mtime":1550041214207},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1550030173624}],"contextDependencies":[],"result":["\n<div class=\"content\"><h1 id=\"html-template\"><a class=\"header-anchor\" href=\"#html-template\" aria-hidden=\"true\">#</a> HTML Template</h1>\n<div class=\"warning custom-block\"><p class=\"custom-block-title\">WARNING</p>\n<p>This article has not been translated yet. Wan't to help us out? Click the <code>Edit this page on GitHub</code> at the end of the page.</p>\n</div>\n<h2 id=\"modify-the-default-template\"><a class=\"header-anchor\" href=\"#modify-the-default-template\" aria-hidden=\"true\">#</a> Modify the default template</h2>\n<p>Create a new <code>src/pages/document.ejs</code>, umi stipulates that if this file exists, it will be used as the default template. You need to ensure that <code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code> appears.</p>\n<!--beforebegin--><div class=\"language-html extra-class\"><!--afterbegin--><pre v-pre class=\"language-html\"><code><span class=\"token doctype\">&lt;!doctype html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Your App<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"configure-the-template\"><a class=\"header-anchor\" href=\"#configure-the-template\" aria-hidden=\"true\">#</a> Configure the template</h2>\n<p>模板里可通过 <code>context</code> 来获取到 umi 提供的变量，context 包含：</p>\n<ul>\n<li><code>route</code>，路由对象，包含 path、component 等</li>\n<li><code>config</code>，用户配置信息</li>\n<li><code>publicPath</code><Badge text=\"2.1.2+\"/>，webpack 的 <code>output.publicPath</code> 配置</li>\n<li><code>env</code>，环境变量，值为 development 或 production</li>\n<li>其他在路由上通过 context 扩展的配置信息</li>\n</ul>\n<p>模板基于 ejs 渲染，可以参考 <a href=\"https://github.com/mde/ejs\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/mde/ejs<OutboundLink/></a> 查看具体使用。</p>\n<p>比如输出变量，</p>\n<!--beforebegin--><div class=\"language-html extra-class\"><!--afterbegin--><pre v-pre class=\"language-html\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>icon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>image/x-icon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;%= context.publicPath %>favicon.png<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>比如条件判断，</p>\n<!--beforebegin--><div class=\"language-html extra-class\"><!--afterbegin--><pre v-pre class=\"language-html\"><code>&lt;% if(context.env === 'production') { %>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>生产环境<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n&lt;% } else {%>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>开发环境<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n&lt;% } %>\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"针对特定页面指定模板\"><a class=\"header-anchor\" href=\"#针对特定页面指定模板\" aria-hidden=\"true\">#</a> 针对特定页面指定模板</h2>\n<div class=\"warning custom-block\"><p class=\"custom-block-title\">WARNING</p>\n<p>此功能需开启 <code>exportStatic</code> 配置，否则只会输出一个 html 文件。</p>\n</div>\n<div class=\"tip custom-block\"><p class=\"custom-block-title\">TIP</p>\n<p>优先级是：路由的 document 属性 &gt; src/pages/document.ejs &gt; umi 内置模板</p>\n</div>\n<p>配置路由的 document 属性。</p>\n<p>比如约定式路由可通过注释扩展 <code>document</code> 属性，路径从项目根目录开始找，</p>\n<!--beforebegin--><div class=\"language-js extra-class\"><!--afterbegin--><pre v-pre class=\"language-js\"><code><span class=\"token comment\">/**\n * document: ./src/documents/404.ejs\n */</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>然后这个路由就会以 <code>./src/documents/404.ejs</code> 为模板输出 HTML。</p>\n</div>\n",null]}