{"remainingRequest":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/simao/javascript_code/vuepress/docs/java/migration.md?vue&type=template&id=40e8b524&","dependencies":[{"path":"/Users/simao/javascript_code/vuepress/docs/java/migration.md","mtime":1550041214207},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1550030168216},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vue-loader/lib/index.js","mtime":1550030169776},{"path":"/Users/simao/javascript_code/vuepress/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1550030173624}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._ssrNode(\"<h1 id=\\\"migrate-from-umi-1-x\\\"><a href=\\\"#migrate-from-umi-1-x\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Migrate from umi 1.x</h1> \"),_vm._ssrNode(\"<blockquote>\",\"</blockquote>\",[_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"More like watching videos? You can \"),_vm._ssrNode(\"<a href=\\\"https://youtu.be/1mvKzFLLBck\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\",\"</a>\",[_vm._ssrNode(\"click here to watch\"),_c('OutboundLink')],2),_vm._ssrNode(\".\")],2)]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"Let's take an example of \"),_vm._ssrNode(\"<a href=\\\"https://github.com/zuiidea/antd-admin/pull/877\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\",\"</a>\",[_vm._ssrNode(\"antd-admin\"),_c('OutboundLink')],2),_vm._ssrNode(\" to update from umi@1 to umi@2.\")],2),_vm._ssrNode(\" <h2 id=\\\"npm-dependency\\\"><a href=\\\"#npm-dependency\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> npm Dependency</h2> <p>Upgrade umi to <code>^2.0.0-0</code> and use umi-plugin-react instead of the previous plugins, including umi-plugin-dva, umi-plugin-dll, umi-plugin-routes, umi-plugin-polyfill and Umi-plugin-locale.</p> <div class=\\\"language-diff extra-class\\\"><pre class=\\\"language-diff\\\"><code><span class=\\\"token deleted\\\">- &quot;umi&quot;: &quot;^1.3.17&quot;,</span>\\n<span class=\\\"token inserted\\\">+ &quot;umi&quot;: &quot;^2.0.0-beta.16&quot;,</span>\\n\\n<span class=\\\"token deleted\\\">- &quot;umi-plugin-dll&quot;: &quot;^0.2.1&quot;,</span>\\n<span class=\\\"token deleted\\\">- &quot;umi-plugin-dva&quot;: &quot;^0.9.1&quot;,</span>\\n<span class=\\\"token deleted\\\">- &quot;umi-plugin-routes&quot;: &quot;^0.1.5&quot;</span>\\n<span class=\\\"token inserted\\\">+ &quot;umi-plugin-react&quot;: &quot;^1.0.0-beta.16&quot;,</span>\\n</code></pre></div>\"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"Umi-plugin-react is a collection of more than a dozen plugins, as described in \"),_c('router-link',{attrs:{\"to\":\"/plugin/umi-plugin-react.html\"}},[_vm._v(\"Introduction to umi-plugin-react\")]),_vm._ssrNode(\".\")],2),_vm._ssrNode(\" <h2 id=\\\"environment-variables\\\"><a href=\\\"#environment-variables\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Environment Variables</h2> <p>Umi@2 supports configuring environment variables in <code>.env</code>, so the environment variables previously written in package.json scripts can be cut here.</p> <div class=\\\"language-diff extra-class\\\"><pre class=\\\"language-diff\\\"><code><span class=\\\"token deleted\\\">- &quot;start&quot;: &quot;cross-env COMPILE_ON_DEMAND=none BROWSER=none HOST=0.0.0.0 umi dev&quot;,</span>\\n<span class=\\\"token inserted\\\">+ &quot;start&quot;: &quot;cross-env BROWSER=none HOST=0.0.0.0 umi dev&quot;,</span>\\n</code></pre></div><p>Then create a new <code>.env</code>, (where <code>COMPILE_ON_DEMAND</code> is no longer supported)</p> <div class=\\\"language- extra-class\\\"><pre class=\\\"language-text\\\"><code>BROWSER=none\\nHOST=0.0.0.0\\n</code></pre></div><p>In addition, some environment variables have changed or are no longer supported:</p> <ul><li><code>PUBLIC_PATH</code> is no longer supported, configured by <code>publicPath</code></li> <li><code>BASE_URL</code> is no longer supported, configured by <code>base</code></li> <li><code>COMPILE_ON_DEMAND</code> is no longer supported, and this function is not available in umi@2.</li> <li><code>TSLINT</code> is no longer supported, and this function is not available in umi@2.</li> <li><code>ESLINT</code> is no longer supported, and this function is not available in umi@2.</li></ul> <h2 id=\\\"configuration\\\"><a href=\\\"#configuration\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Configuration</h2> <h3 id=\\\"plugin-configuration\\\"><a href=\\\"#plugin-configuration\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Plugin Configuration</h3> <p>Since we changed a lot of plugins to umi-plugin-react, we need to modify <code>.umirc.js</code>.</p> <div class=\\\"language-diff extra-class\\\"><pre class=\\\"language-diff\\\"><code>export default {\\n  plugins: [\\n<span class=\\\"token deleted\\\">-    'umi-plugin-dva',</span>\\n<span class=\\\"token inserted\\\">+    ['umi-plugin-react', {</span>\\n<span class=\\\"token inserted\\\">+      dva: true,</span>\\n<span class=\\\"token inserted\\\">+      antd: true,  // antd is not enabled by default, if you need to use it yourself</span>\\n<span class=\\\"token inserted\\\">+    }],</span>\\n  ],\\n};\\n</code></pre></div>\"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"For more dll, hardSource, polyfilles, locale, title, etc., refer to \"),_c('router-link',{attrs:{\"to\":\"/plugin/umi-plugin-react.html\"}},[_vm._v(\"umi-plugin-react documentation\")]),_vm._ssrNode(\".\")],2),_vm._ssrNode(\" <h3 id=\\\"webpackrc-js\\\"><a href=\\\"#webpackrc-js\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> webpackrc.js</h3> <p>Umi@2 no longer supports <code>webpackrc.js</code>, copy the configuration inside it to <code>.umirc.js</code>.</p> <h3 id=\\\"webpack-config-js\\\"><a href=\\\"#webpack-config-js\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> webpack.config.js</h3> \"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"Umi@2 no longer supports <code>webpack.config.js</code>, instead it is implemented by configuring \"),_c('router-link',{attrs:{\"to\":\"/config/#chainwebpack\"}},[_vm._v(\"chainWebpack\")]),_vm._ssrNode(\".\")],2),_vm._ssrNode(\" <h3 id=\\\"detailed-configuration-item-changes\\\"><a href=\\\"#detailed-configuration-item-changes\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Detailed Configuration Item Changes</h3> <ul><li><code>hd</code> is no longer supported. To enable it, load the plugin <code>umi-plugin-react</code> and configure <code>hd: {}</code></li> <li><code>disableServiceWorker</code> is no longer supported, it is not enabled by default. To enable it, load the plugin <code>umi-plugin-react</code> and configure <code>pwa: {}</code></li> <li><code>preact</code> is no longer supported. To configure, load the plugin <code>umi-plugin-react</code> and configure `library: 'preact'.</li> <li><code>loading</code> is no longer supported. To configure, load the plugin <code>umi-plugin-react</code> and configure <code>dynamicImport.loadingComponent</code></li> <li><code>hashHistory: true</code> changed to <code>history: 'hash'</code></li> <li><code>disableDynamicImport</code> is no longer supported, it is not enabled by default. To enable it, load the plugin <code>umi-plugin-react</code> and configure <code>dynamicImport: {}</code></li> <li><code>disableFastClick</code> is no longer supported, it is not enabled by default. To enable it, load the plugin <code>umi-plugin-react</code> and configure <code>fastClick: {}</code></li> <li>No longer supports <code>pages</code>, instead of directly on the route</li> <li><code>disableHash</code> is no longer supported, it is not enabled by default. To enable it, configure <code>hash: true</code></li></ul> <h2 id=\\\"conventional-routing\\\"><a href=\\\"#conventional-routing\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Conventional Routing</h2> <p>The routing layer no longer supports directory-level routing for <code>page.js</code>. Previously useful, you need to exclude unwanted routes through umi-plugin-react's routes.exclude.</p> <h2 id=\\\"umi-dynamic\\\"><a href=\\\"#umi-dynamic\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> umi/dynamic</h2> \"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"Interface changes, umi@2 is based on \"),_vm._ssrNode(\"<a href=\\\"https://github.com/jamiebuilds/react-loadable\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\",\"</a>\",[_vm._ssrNode(\"react-loadable\"),_c('OutboundLink')],2),_vm._ssrNode(\".\")],2),_vm._ssrNode(\" <div class=\\\"language-diff extra-class\\\"><pre class=\\\"language-diff\\\"><code><span class=\\\"token deleted\\\">- dynamic(async () =&gt; {})</span>\\n<span class=\\\"token inserted\\\">+ dynamic({ loader: async () =&gt; {}})</span>\\n</code></pre></div>\"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"See \"),_c('router-link',{attrs:{\"to\":\"/api/#umi-dynamic\"}},[_vm._v(\"umi/dynamic Interface Description\")]),_vm._ssrNode(\" for details.\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}